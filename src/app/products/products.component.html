<app-product-form></app-product-form>

<div *ngIf="!isFetching; else fetchingProducts">
  <div *ngIf="productsService.products.length; else noProducts" class="app-products">
    <ul cdkDropList (cdkDropListDropped)="drop($event)">
     <li class="li-item" *ngFor="let prod of productsService.products; let i = index" [class.active]="prod.active" cdkDrag>
       <div class="example-custom-placeholder" *cdkDragPlaceholder></div>
       <img [src]="['assets/', prod.imageUrl].join('')" [alt]="prod.name">
       <div class="descr">
         <span>{{ i + 1 }}</span>
         <span>{{ prod.name }}</span>
         <span>{{ prod.snippet }}</span>
         <span>{{ prod.date | date:'medium' }}</span>
       </div>
       <button [routerLink]="['/product/', prod.id]" class="view-btn">view</button>
       <input type="checkbox" [checked]="prod.active" (change)="onChange(prod.id)">
       <button (click)="onClickRemove(prod.id)">x</button>
     </li>
    </ul>
  </div>
</div>

<ng-template #fetchingProducts>Loading...</ng-template>

<ng-template #noProducts>
  <div style="width: 100%; text-align: center;">No products now!</div>
</ng-template>
